<!doctype html><meta charset="utf-8">
<title>Shopping ‚Äì NLFR Preflight</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
  :root{ --maroon:#800000; }
  body{margin:0;background:#fff;color:#111;font:14.5px/1.55 Arial,Helvetica,sans-serif}
  #app{max-width:980px;margin:12px auto;padding:16px;border:1px solid #eee;border-radius:12px;background:#fff}
  h1{margin:0 0 8px;color:var(--maroon)}
  .navlink{ text-decoration:none;border:1px solid #ddd;padding:8px 10px;border-radius:10px;color:#111;background:#fff }
  .subbtn{padding:10px;border-radius:10px;border:1px solid #ddd;background:#fff;color:#111;cursor:pointer;text-align:left}
  .subbtn.active{border-color:var(--maroon);box-shadow:0 0 0 2px rgba(128,0,0,.12)}
  .panel{border:1px solid #eee;border-radius:10px;padding:10px;margin:10px 0}
  .panel.alt{background:#fafafa}
  .grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:10px}
  .speak-btn{margin-left:8px;padding:2px 6px;font-size:13px;line-height:1;border:1px solid #ddd;border-radius:8px;background:#fff;cursor:pointer}
  .speak-btn:hover{border-color:var(--maroon)}
  figure{margin:8px 0 0}
  figure img{max-width:100%;height:auto;border:1px solid #eee;border-radius:10px}
  figcaption{font-size:12.5px;color:#555;margin-top:4px}
</style>

<div id="app">
  <h1>Shopping (Bakker ‚Ä¢ Slager ‚Ä¢ Groente/fruit ‚Ä¢ Vis ‚Ä¢ Supermarkt ‚Ä¢ Kaas ‚Ä¢ Charcuterie ‚Ä¢ Drank ‚Ä¢ Diepvries ‚Ä¢ Traiteur)</h1>

  <div style="display:flex;gap:8px;flex-wrap:wrap;margin:6px 0 12px">
    <a href="./index.html" class="navlink">‚Üê Terug naar start</a>
    <button type="button" class="navlink" onclick="document.getElementById('out').style.display='none'">Reset subrubriek</button>
  </div>

  <p style="margin:0 0 10px">Kies je <strong>subrubriek</strong>. We tonen: Doelzinnen ‚Üí Taaltips ‚Üí Micro-lexicon ‚Üí <strong>Voorbereiden</strong>. 
    <span style="white-space:nowrap">Aanspreekvorm: <strong>vous</strong> (default).</span></p>

  <!-- SUBRUBRIEKEN -->
  <div id="subs" class="grid" style="margin-bottom:12px">
    <button class="subbtn" data-key="boulangerie">Boulangerie (Bakker)</button>
    <button class="subbtn" data-key="boucherie">Boucherie (Slager)</button>
    <button class="subbtn" data-key="primeur">Primeur (Groenteboer)</button>
    <button class="subbtn" data-key="poissonnier">Poissonnier (Visboer)</button>
    <button class="subbtn" data-key="volailler">Volailler (Poelier)</button>
    <button class="subbtn" data-key="supermarche">Supermarch√©</button>
    <button class="subbtn" data-key="fromagerie">Fromagerie (Kaas & zuivel)</button>
    <button class="subbtn" data-key="charcuterie">Charcuterie (Vleeswaren)</button>
    <button class="subbtn" data-key="caviste">Caviste (Dranken)</button>
    <button class="subbtn" data-key="surgeles">Surgel√©s (Diepvries)</button>
    <button class="subbtn" data-key="traiteur">Traiteur (Delicatessen)</button>
  </div>

  <!-- ACTIE -->
  <div style="margin:6px 0 12px;">
    <button id="go" style="padding:9px 12px;border-radius:10px;border:1px solid var(--maroon);background:var(--maroon);color:#fff;cursor:pointer">Toon geselecteerde subrubriek</button>
    <span id="selNote" style="margin-left:8px;color:#555;font-size:13px;">(nog geen selectie)</span>
  </div>

  <!-- OUTPUT -->
  <div id="out" style="display:none">
    <section class="panel">
      <h2 style="margin:0 0 6px;font-size:18px;">Doelzinnen</h2>
      <ul id="targets" style="margin:6px 0 0 18px"></ul>
      <div id="extraMedia"></div>
    </section>

    <section class="panel">
      <h2 style="margin:0 0 6px;font-size:18px;">Taaltips</h2>
      <ul id="tips" style="margin:6px 0 0 18px"></ul>
    </section>

    <section class="panel">
      <h2 style="margin:0 0 6px;font-size:18px;">Micro-lexicon</h2>
      <ul id="lex" style="margin:6px 0 0 18px"></ul>
    </section>

    <section class="panel alt">
      <h2 style="margin:0 0 6px;font-size:18px;">Voorbereiden</h2>
      <ul id="pre" style="margin:6px 0 0 18px"></ul>
    </section>
  </div>

  <footer style="margin-top:8px;font-size:12.5px;color:#555;">
    Extra: <a href="https://infofrankrijk.com/a-la-boucherie-spreek-de-taal-van-de-franse-slager/" style="color:#800000" target="_blank" rel="noopener">√Ä la boucherie ‚Äì uitleg</a>
  </footer>
</div>

<!-- TTS helper (leest ‚Äú/‚Äù als ‚Äúbarre oblique‚Äù, haakjes als ‚Äúentre parenth√®ses ‚Ä¶‚Äù) -->
<script src="./tts.js"></script>

<script>
/* ---------- DATA ---------- */
const DATA = {
  boulangerie: {
    targets: [
      "Une baguette tradition, s‚Äôil vous pla√Æt.",
      "Vous pouvez la couper ? (tranch√©e)",
      "Je voudrais un pain complet, bien cuit / pas trop cuit.",
      "Un pain au chocolat et un croissant au beurre, s‚Äôil vous pla√Æt."
    ],
    tips: [
      "‚ÄòBaguette tradition‚Äô is ambachtelijk (iets duurder).",
      "Vraag ‚Äòbien cuite‚Äô (donker) of ‚Äòpas trop cuite‚Äô (lichter).",
      "‚ÄòTranch√©‚Äô = gesneden (voor pain de mie of groot brood)."
    ],
    lex: [
      ["baguette (tradition)", "stokbrood (ambachtelijk)"],
      ["pain de campagne / complet / aux c√©r√©ales", "boerenbrood / volkoren / meergranen"],
      ["pain de mie (tranch√©)", "tostibrood (gesneden)"],
      ["croissant / croissant au beurre", "croissant / roombotercroissant"],
      ["pain au chocolat / aux raisins", "chocoladebroodje / koffiebroodje"],
      ["tarte / tartelette / flan / mille-feuille", "taart / taartje / roomvlaai / tompouce"]
    ],
    pre: [
      "Bedenk: tradition of gewone baguette? Donker of licht gebakken?",
      "Voor ontbijt: tel broodjes exact (enfants/adultes).",
      "Speel uitspreek-setje: ‚Äòpas trop cuit‚Äô, ‚Äòbien cuit‚Äô, ‚Äòtranch√©‚Äô."
    ]
  },

  boucherie: {
    targets: [
      "Je cherche un morceau pour un r√¥ti / un bourguignon.",
      "Vous pouvez me couper des steaks (environ 200 grammes) ?",
      "Avez-vous de l‚Äôonglet / du rumsteck / du faux-filet ?",
      "C‚Äôest pour combien de personnes ? Pour quatre, s‚Äôil vous pla√Æt."
    ],
    tips: [
      "Franse snit ‚â† Nederlandse snit; vraag gerust om advies bij bereiding.",
      "Vraag naar dikte/gewicht per stuk (‚Äòdeux cent grammes‚Äô).",
      "Stoof: paleron, macreuse, plat de c√¥tes; steak: faux-filet, rumsteck, onglet."
    ],
    lex: [
      ["Aiguillette baronne", "naaldje / achterschenkelbief"],
      ["Bavette de aloyau", "bavette (buik)"],
      ["Bavette de flanchet", "bavette (buik)"],
      ["Collier de b≈ìuf", "nek"],
      ["C√¥te de b≈ìuf", "ribstuk"],
      ["Entrec√¥te", "entrec√¥te / tussenrib / lendebiefstuk"],
      ["Faux filet / Contre-filet", "lendebiefstuk"],
      ["Filet de b≈ìuf", "ossenhaas"],
      ["Flanchet de b≈ìuf", "vang"],
      ["G√Æte / Jarret arri√®re", "achterschenkel"],
      ["G√Æte √† la noix", "deel van de bovenbil"],
      ["Gros bout de poitrine", "puntborst / brisket"],
      ["Hampe de b≈ìuf", "skirt steak (middenrif)"],
      ["Jumeau √† bifteck", "jodenhaas / diamanthaas"],
      ["Macreuse √† pot-au-feu", "deel van bloemstuk"],
      ["Merlan", "platte bil"],
      ["Mouvant", "spierstuk van de platte bil"],
      ["Onglet de b≈ìuf", "longhaas (middenrif)"],
      ["Paleron (macreuse √† braiser)", "sukade / schouderpunt"],
      ["Plat de c√¥tes de b≈ìuf", "klapstuk"],
      ["Plat de tranche", "spierstuk van de platte bil"],
      ["Poire", "platte bil"],
      ["Queue de b≈ìuf", "staart"],
      ["Rond de g√Æte", "deel van de bovenbil"],
      ["Rond de tranche", "spierstuk van de platte bil"],
      ["Rumsteck", "lendebiefstuk"],
      ["Tende de tranche", "platte bil"],
      ["Tendron de b≈ìuf", "middenrif"]
    ],
    pre: [
      "Bedenk bereidingswijze (grillen/stoof) en aantal personen.",
      "Leer gewichten uitspreken (deux cents / deux cent cinquante grammes).",
      "Neem receptnaam mee (bourguignon, r√¥ti, braiser)."
    ],
    media: {
      // Zet je illustratie in de repo op ./images/rundvlees.png (of pas dit pad aan)
      img: "./images/rundvlees.png",
      caption: "Franse rundvleessnitten ‚Äì aangeboden door Nederlanders.fr"
    }
  },

  primeur: {
    targets: [
      "Je voudrais un kilo de tomates et deux concombres.",
      "C‚Äôest de saison ? Vous me conseillez quoi aujourd‚Äôhui ?",
      "Un bouquet de persil et 500 grammes de haricots verts, s‚Äôil vous pla√Æt."
    ],
    tips: [
      "Bij kleine hoeveelheden: ‚Äòun peu de‚Äô, ‚Äòune poign√©e de‚Äô.",
      "Seizoensvraag is normaal en gewaardeerd.",
      "Sommige primeurs wegen voor je; wacht op ‚Äòsuivant !‚Äô"
    ],
    lex: [
      ["ail / oignon / poireau", "knoflook / ui / prei"],
      ["artichaut / asperge / aubergine", "artisjok / asperge / aubergine"],
      ["brocoli / chou / chou-fleur", "broccoli / kool / bloemkool"],
      ["concombre / courgette", "komkommer / courgette"],
      ["√©pinard / haricots verts", "spinazie / sperziebonen"],
      ["laitue / tomate / radis", "sla / tomaat / radijs"],
      ["pomme de terre / ma√Øs", "aardappel / ma√Øs"],
      ["abricot / ananas / avocat", "abrikoos / ananas / avocado"],
      ["banane / cerise / citron", "banaan / kers / citroen"],
      ["fraise / framboise / myrtille", "aardbei / framboos / bosbes"],
      ["orange / pamplemousse", "sinaasappel / grapefruit"],
      ["p√™che / poire / pomme / raisin", "perzik / peer / appel / druif"]
    ],
    pre: [
      "Maak lijstje met kilo/gram streefgewichten.",
      "Ken seizoensklassiekers (asperge, fraise, tomate).",
      "Neem boodschappentas mee; veel primeurs gebruiken weinig zakjes."
    ]
  },

  poissonnier: {
    targets: [
      "Vous pouvez lever les filets, s‚Äôil vous pla√Æt ?",
      "C‚Äôest pour faire au four / √† la po√™le.",
      "Je prends 500 grammes de crevettes d√©cortiqu√©es."
    ],
    tips: [
      "Vraag om schoonmaken/fileren: ‚Äòvider‚Äô, ‚Äò√©cailler‚Äô, ‚Äòlever des filets‚Äô.",
      "Vraag naar graatjes: ‚ÄòIl reste des ar√™tes ?‚Äô",
      "Schaal- en schelpdieren worden per gewicht of stuk verkocht."
    ],
    lex: [
      ["crevettes / homard", "garnalen / kreeft"],
      ["bigorneaux / hu√Ætres / moules", "alikruiken / oesters / mosselen"],
      ["coquilles Saint-Jacques", "sint-jakobsschelpen"],
      ["calmar / poulpe / seiche", "inktvis (pijl) / inktvis (kraak) / zeekat"],
      ["cabillaud / colin (merlu) / saumon", "kabeljauw / heek / zalm"],
      ["bar / dorade / maquereau", "zeebaars / goudbrasem / makreel"],
      ["merlan / hareng / sardines", "wijting / haring / sardientjes"],
      ["lotte / raie / turbot / sole", "zeeduivel / rog / tarbot / tong"],
      ["saint-pierre / rouget", "zonnevis / rode mul"],
      ["truite / carpe / brochet / sandre", "forel / karper / snoek / snoekbaars"]
    ],
    pre: [
      "Kies bereidingswijze (four/po√™le) en vraag om filets of vis klaar te maken.",
      "Neem koeltas/koelelement mee in de zomer.",
      "Noteer porties per persoon (150‚Äì200 g filet/persoon)."
    ]
  },

  volailler: {
    targets: [
      "Je voudrais un poulet fermier, coup√© en morceaux.",
      "Avez-vous de la pintade / du canard aujourd‚Äôhui ?",
      "Deux cuisses et deux blancs, s‚Äôil vous pla√Æt."
    ],
    tips: [
      "Vraag naar type: ‚Äòpoulet fermier / label rouge‚Äô.",
      "Snijden op verzoek: ‚Äòen morceaux‚Äô of ‚Äòd√©soss√©‚Äô.",
      "Wild (gibier) is seizoensgebonden."
    ],
    lex: [
      ["volaille / gibier", "gevogelte / wild"],
      ["aile / cuisse / blanc (filet)", "vleugel / poot / borstfilet"],
      ["poulet / dinde / canard / oie", "kip / kalkoen / eend / gans"],
      ["pintade / chapon / coq", "parelhoen / kapoen / haan"],
      ["caille / faisan / perdrix", "kwartel / fazant / patrijs"],
      ["lapin / li√®vre", "konijn / haas"]
    ],
    pre: [
      "Aantal personen en stukken (cuisses/blancs) vooraf bepalen.",
      "Vraag naar bereidingstip per soort (temps de cuisson).",
      "Koeltas mee voor rauw gevogelte."
    ]
  },

  supermarche: {
    targets: [
      "O√π puis-je trouver la sauce tomate / la farine ?",
      "Il y a une carte de fid√©lit√© ?",
      "Je paie par carte / en esp√®ces."
    ],
    tips: [
      "Let op promo‚Äôs ‚Äò2 pour 1‚Äô, ‚Äòformat familial‚Äô.",
      "Non-food zit soms apart (entretien, hygi√®ne).",
      "Cheque wordt minder gebruikt; kaart of contactloos is standaard."
    ],
    lex: [
      ["p√¢tes / riz / sauce tomate / moutarde", "pasta / rijst / tomatensaus / mosterd"],
      ["huile d‚Äôolive / vinaigre", "olijfolie / azijn"],
      ["conserves (l√©gumes/poisson)", "conserven (groente/vis)"],
      ["soupe / confiture / p√¢te √† tartiner", "soep / jam / zoet broodbeleg"],
      ["c√©r√©ales / caf√© / th√© / lait (UHT)", "ontbijtgranen / koffie / thee / houdbare melk"],
      ["jus de fruits / biscuits / chips / chocolat", "sap / koekjes / chips / chocola"],
      ["farine / sucre / sel / poivre / √©pices", "bloem / suiker / zout / peper / kruiden"],
      ["produits d‚Äôentretien", "schoonmaakmiddelen"],
      ["liquide vaisselle / tablettes LV", "afwasmiddel / vaatwastabletten"],
      ["lessive / adoucissant / eau de Javel", "wasmiddel / wasverzachter / bleek"],
      ["sacs poubelle / papier toilette / essuie-tout", "vuilniszakken / toiletpapier / keukenpapier"],
      ["papier alu / film alimentaire", "aluminiumfolie / vershoudfolie"],
      ["shampoing / gel douche / savon", "shampoo / douchegel / zeep"],
      ["dentifrice / brosse √† dents", "tandpasta / tandenborstel"],
      ["mouchoirs / couches / protections", "zakdoekjes / luiers / maandverband"],
      ["piles / ampoules", "batterijen / lampen"]
    ],
    pre: [
      "Maak lijst per gangpad (√©picerie sal√©e/sucr√©e, entretien, hygi√®ne).",
      "Controleer openingstijden (zondag vaak beperkt).",
      "Neem tassen mee (sacs r√©utilisables)."
    ]
  },

  fromagerie: {
    targets: [
      "Je voudrais un morceau de Comt√© bien affin√©, s‚Äôil vous pla√Æt.",
      "Plut√¥t p√¢te molle ou p√¢te dure ?",
      "Vous pouvez me faire quelques tranches ?"
    ],
    tips: [
      "‚ÄòAffin√©‚Äô = rijping; vraag naar maanden (‚Äò12/18 mois‚Äô).",
      "Vraag moedertypen: ch√®vre (geit), brebis (schaap), vache (koe).",
      "Geschaafd/gesneden mogelijk: ‚Äòen tranches‚Äô ou ‚Äòr√¢p√©‚Äô."
    ],
    lex: [
      ["fromage (au lait cru)", "kaas (rauwe melk)"],
      ["p√¢te dure / molle / persill√©e", "hard / zacht / blauw"],
      ["fromage de ch√®vre / de brebis", "geiten- / schapenkaas"],
      ["fromage frais / fromage blanc", "verse kaas / kwark"],
      ["fromage r√¢p√©", "geraspte kaas"],
      ["une tranche / un morceau", "een plak(je) / een stuk(je)"],
      ["affin√©", "gerijpt"],
      ["lait entier / demi-√©cr√©m√© / √©cr√©m√©", "volle / halfvolle / magere melk"],
      ["beurre (doux / demi-sel)", "boter (ongezouten / halfgezout)"],
      ["cr√®me fra√Æche / cr√®me liquide", "cr√®me fra√Æche / slagroom"],
      ["yaourt (nature / aux fruits)", "yoghurt (natuur / met fruit)"],
      ["≈ìufs", "eieren"]
    ],
    pre: [
      "Bedenk type (ch√®vre/brebis/vache) en rijping (affinage).",
      "Een plateau samenstellen? Vraag advies per volgorde milde‚Üísterke.",
      "Neem koeltas mee in de zomer."
    ]
  },

  charcuterie: {
    targets: [
      "Je voudrais 200 grammes de jambon blanc, en tranches fines.",
      "Avez-vous du jambon cru / du saucisson sec ?",
      "Un peu de rillettes et du p√¢t√© de campagne, s‚Äôil vous pla√Æt."
    ],
    tips: [
      "Snijdikte: ‚Äòtranches fines/√©paisses‚Äô.",
      "Vraag naar streekhammen (Bayonne, Parme).",
      "Rillettes en p√¢t√© zijn smeerbaar/mesbaar; vraag naar bewaartip."
    ],
    lex: [
      ["jambon (blanc/cuit)", "gekookte ham"],
      ["jambon cru / de pays", "rauwe ham"],
      ["saucisson (sec) / √† l‚Äôail", "droge worst / knoflookworst"],
      ["p√¢t√© (de campagne / de foie)", "pat√© (boeren- / lever-)"],
      ["rillettes (porc/canard/poulet)", "rillettes (varken/eend/kip)"],
      ["lardons / poitrine fum√©e", "spekblokjes / gerookt buikspek"]
    ],
    pre: [
      "Bepaal gewicht en snijdikte per soort.",
      "Let op allergenen (lever, noten in p√¢t√©s).",
      "Vraag naar houdbaarheid en bewaartips."
    ]
  },

  caviste: {
    targets: [
      "Je cherche un vin rouge l√©ger pour le d√Æner.",
      "Plut√¥t sec ou moelleux ?",
      "Pour l‚Äôap√©ritif: un cr√©mant ou un champagne ?"
    ],
    tips: [
      "Vraag per gerecht (fromage/poisson/viande) om advies.",
      "Alcoholvrij alternatief: jus, sirop, eau p√©tillante.",
      "Koop gekoeld of plan koeltijd."
    ],
    lex: [
      ["eau (plate / gazeuse)", "water (plat / bruis)"],
      ["jus de fruits / soda / sirop", "sap / frisdrank / siroop"],
      ["vin (rouge/blanc/ros√©)", "wijn (rood/wit/ros√©)"],
      ["sec / doux (moelleux)", "droog / zoet"],
      ["vin mousseux / cr√©mant / champagne", "mousserend / cr√©mant / champagne"],
      ["bi√®re (blonde/brune/ambr√©e/blanche)", "bier (blond/bruin/amber/wit)"],
      ["cidre (brut/doux) / poir√©", "cider (droog/zoet) / perencider"],
      ["ap√©ritifs: pastis, vermouth, porto, sherry, kir", "aperitieven"],
      ["spiritueux: whisky, gin, vodka, rhum, tequila", "sterke dranken"],
      ["cognac / armagnac / calvados", "brandewijnen/digestieven"],
      ["liqueurs: cassis, cointreau, chartreuse, etc.", "likeuren"]
    ],
    pre: [
      "Weet waarvoor de drank dient (ap√©ro, dessert, vis/vlees).",
      "Kooptips: vraag budgetband (‚Äòentre 8 et 12 euros‚Äô).",
      "Vraag serveertemperatuur en bewaartip."
    ]
  },

  surgeles: {
    targets: [
      "O√π sont les l√©gumes surgel√©s ?",
      "Je prends des frites au four et des √©pinards en branches.",
      "Vous avez des filets de cabillaud nature ?"
    ],
    tips: [
      "‚ÄòAu four‚Äô = voor de oven (frites/pizza).",
      "Controleer porties/grammage, vooral bij vis en vlees.",
      "Let op ‚Äò√† r√©chauffer‚Äô vs. ‚Äò√† cuire‚Äô."
    ],
    lex: [
      ["haricots verts / petits pois / √©pinards", "sperziebonen / doperwten / spinazie"],
      ["brocolis / chou-fleur (fleurettes)", "broccoli / bloemkool (roosjes)"],
      ["po√™l√©e / julienne (de l√©gumes)", "groentemix / julienne"],
      ["frites / pommes dauphine / noisette / rissol√©es", "frites / aardappelsoesjes / nootjes / partjes"],
      ["steak hach√© / boulettes / poulet (filets/cuisses)", "hamburger / gehaktballen / kip (filet/poot)"],
      ["poisson nature / pan√© / b√¢tonnets", "vis natuur / gepaneerd / vissticks"],
      ["crevettes / noix de Saint-Jacques", "garnalen / sint-jakobsvruchtvlees"],
      ["pizza / quiche / lasagnes / hachis parmentier", "pizza / quiche / lasagne / ovenschotel"],
      ["p√¢te feuillet√©e / bris√©e", "bladerdeeg / kruimeldeeg"],
      ["viennoiseries √† cuire / p√¢tisseries", "afbakbroodjes / diepvriesgebak"],
      ["glace / sorbet / c√¥nes / b√¢tonnets / gla√ßons", "roomijs / sorbet / hoorntjes / ijsjes / ijsblokjes"]
    ],
    pre: [
      "Controleer vriescapaciteit thuis; neem koeltas mee.",
      "Plan oven- of baktijd (au four / √† la po√™le).",
      "Lees bereidingspictogrammen; die zijn helder."
    ]
  },

  traiteur: {
    targets: [
      "Je prends un poulet r√¥ti et un peu de pommes de terre.",
      "Avez-vous de la salade pi√©montaise / du c√©leri r√©moulade ?",
      "Un morceau de quiche lorraine, √† r√©chauffer."
    ],
    tips: [
      "Veel gerechten zijn koud te koop en thuis op te warmen.",
      "Vraag naar porties per persoon.",
      "Vraag of saus apart kan."
    ],
    lex: [
      ["salade pi√©montaise / carottes r√¢p√©es", "aardappel-ham salade / geraspte wortel"],
      ["c√©leri r√©moulade / taboul√©", "knolselderijsalade / tabouleh"],
      ["betteraves cuites (en tranches)", "gekookte rode biet (plakjes)"],
      ["poulet r√¥ti / pommes de terre (grenailles)", "gegrilde kip / krieltjes"],
      ["gratin dauphinois / brandade (de morue)", "aardappelgratin / kabeljauw-puree ovenschotel"],
      ["quiche (lorraine) / tarte sal√©e", "quiche (lorraine) / hartige taart"],
      ["olives / houmous / tzatziki", "olijven / hummus / tzatziki"],
      ["anchois marin√©s", "gemarineerde ansjovis"]
    ],
    pre: [
      "Kies koude of warme afname en serveertijd.",
      "Noteer allergie√´n van gasten.",
      "Neem bakjes of tas mee; soms krijg je wegwerp."
    ]
  }
};

/* ---------- RENDER ---------- */
let selKey=null;
let targetsEl, tipsEl, lexEl, preEl, outEl, mediaEl;

function clear(el){ while(el.firstChild) el.removeChild(el.firstChild); }

function addSpeakBtn(li, getText){
  const b=document.createElement('button');
  b.type='button'; b.className='speak-btn'; b.title='Uitspreken (FR)'; b.textContent='üîä';
  b.addEventListener('click', e=>{
    e.stopPropagation();
    const txt = (typeof getText==='function' ? getText() : li.textContent || '').trim();
    if(window.tts && txt){ window.tts.speak(txt, {lang:'fr-FR', rate:0.95, pitch:1.08}); }
  });
  li.appendChild(b);
}

function render(key){
  const d=DATA[key]; if(!d) return;
  [targetsEl,tipsEl,lexEl,preEl].forEach(clear);
  mediaEl.innerHTML='';

  d.targets.forEach(x=>{
    const li=document.createElement('li'); li.textContent=x;
    addSpeakBtn(li, ()=>x);
    targetsEl.appendChild(li);
  });

  d.tips.forEach(x=>{
    const li=document.createElement('li'); li.textContent=x;
    tipsEl.appendChild(li);
  });

  d.lex.forEach(([fr,nl])=>{
    const li=document.createElement('li'); li.innerHTML='<strong>'+fr+'</strong> ‚Äì '+nl;
    addSpeakBtn(li, ()=>fr);
    lexEl.appendChild(li);
  });

  d.pre.forEach(x=>{
    const li=document.createElement('li'); li.textContent=x;
    preEl.appendChild(li);
  });

  if (d.media && d.media.img){
    const fig=document.createElement('figure');
    const img=document.createElement('img');
    img.src=d.media.img; img.alt="Rundvleessnitten (FR)";
    const cap=document.createElement('figcaption'); cap.textContent=d.media.caption||'';
    fig.appendChild(img); fig.appendChild(cap);
    mediaEl.appendChild(fig);
  }

  outEl.style.display='block';
  window.scrollTo(0, document.getElementById('app').offsetTop);
}

/* ---------- INIT ---------- */
document.addEventListener('DOMContentLoaded', ()=>{
  outEl=document.getElementById('out');
  targetsEl=document.getElementById('targets');
  tipsEl=document.getElementById('tips');
  lexEl=document.getElementById('lex');
  preEl=document.getElementById('pre');
  mediaEl=document.getElementById('extraMedia');

  document.querySelectorAll('.subbtn').forEach(btn=>{
    btn.addEventListener('click', ()=>{
      document.querySelectorAll('.subbtn').forEach(b=>b.classList.remove('active'));
      btn.classList.add('active');
      selKey=btn.getAttribute('data-key');
      const note=document.getElementById('selNote');
      if(note) note.textContent='geselecteerd: '+btn.textContent;
      render(selKey);
    });
  });

  document.getElementById('go').addEventListener('click', ()=>{
    if(!selKey){
      const note=document.getElementById('selNote');
      if(note) note.textContent='(kies eerst een subrubriek)';
      return;
    }
    render(selKey);
  });
});
</script>
